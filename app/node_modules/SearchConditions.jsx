import { Component } from 'react/lib/React'
import PropTypes from 'prop-types/prop-types'
import Chip from 'Chip'

export default class SearchConditions extends Component {
   static defaultProps = {
      date: new Date,
      calendaries: [],
      query: [],
      onAct: null,
   }

   static propTypes = {
      date: PropTypes.string.isRequired,
      calendaries: PropTypes.array.isRequired,
      query: PropTypes.array.isRequired,
      onAct: PropTypes.func.isRequired,
   }

   onChipAct = (data) => {
      this.props.onAct(data)
   }

   render = () => {
      console.log(util.inspect(this.props))
      return (
         <div className='input-field col s12'>
            <Chip
               className='white'
               text='Выборка:' />
            <Chip
               className='date'
               data={{date: this.props.date}}
               text={this.props.date}
               action='remove'
               onAct={this.onChipAct} />
            {this.props.calendaries.map((calendary) =>
               <Chip
                  key={calendary.slug}
                  data={{slug: calendary.slug}}
                  className='calendary'
                  text={calendary.name}
                  action='remove'
                  onAct={this.onChipAct} />)}
            {this.props.query.map((token, index) =>
               <Chip
                  key={index}
                  data={{token: token}}
                  className='token'
                  text={token}
                  action='remove'
                  onAct={this.onChipAct} />)}
         </div>)}}
